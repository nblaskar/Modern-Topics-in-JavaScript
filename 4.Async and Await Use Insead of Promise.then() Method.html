<!DOCTYPE html>
<html>
<head>  
    <title>Tree</title>
</head>
    
<body>
  <h1>
       Async and Await Use Insead of Promise.then() Method
    </h1>
   <script>

       
       //promise produce
       const myPromise= new Promise((resolve,reject)=>{
           setTimeout(()=>{
               const roll=[5,6,7,8];
               resolve(roll);
               reject("Communication failed-1");
           },2000);
       });
       const getBioData=(indexData)=>{
           return new Promise((resolve,reject)=>{
               setTimeout((indexData)=>{
                   let biodata={
                       name: "NBLASKAR",
                       age:24
                   }
                   resolve(`My roll no is ${indexData}. My name is ${biodata.name}. and i am ${biodata.age} Years old`);
                   reject("Communication failed-2");
               },2000,indexData)
           });
       }
       
    
       //Process-1
//       async function getData(){
//           const rollNoData= await myPromise;
//           console.log(rollNoData);
//           const biodatas= await getBioData(rollNoData[1]);
//           console.log(biodatas);
//           
//       };
//       getData();
       //Process-2
       async function getData(){
           const rollNoData= await myPromise;
           console.log(rollNoData);
           
           const biodatas= await getBioData(rollNoData[1]);
           console.log("from biodatas->",biodatas);
           
           return biodatas;
           
       }
       
       const getname=getData().then((myName)=>{
           console.log('from getname->',myName);
       }).catch((e)=>{
           console.log(e);
       });
       

   </script>
    
</body>
</html>